

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-39214365-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>Welcome to Elastic Hadoop on OpenStack documentation! &mdash; Elastic Hadoop on OpenStack 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/jquery.tweet.js"></script>
    <link rel="top" title="Elastic Hadoop on OpenStack 0.1 documentation" href="#" />
    <link rel="next" title="EHO Architecture (draft)" href="architecture.html" />
    <script type='text/javascript'>
$(function(){
                $(".body").prepend("<span><h1 style='color:red'>The new name of the Elastic Hadoop on OpenStack project is Savanna. This pages are obsolete and latest info is located at <a href='http://savanna.mirantis.com'>savanna.mirantis.com</a><h1></span>");
                 $(".body").append("<span><h1 style='color:red'>The new name of the Elastic Hadoop on OpenStack project is Savanna. This pages are obsolete and latest info is located at <a href='http://savanna.mirantis.com'>savanna.mirantis.com</a><h1></span>");
          })
        /*$(document).ready(function(){
            $("#twitter_feed").tweet({
                username: "openstack",
                query: "from:openstack",
                avatar_size: 32,
                count: 4,
                loading_text: "loading tweets..."
            });
        });*/
    </script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="architecture.html" title="EHO Architecture (draft)"
             accesskey="N">next</a> |</li>
        <li><a href="#">Elastic Hadoop on OpenStack 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="#">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Welcome to Elastic Hadoop on OpenStack documentation!</a><ul>
<li><a class="reference internal" href="#useful-links">Useful links</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
<li><a class="reference internal" href="#general-workflow">General Workflow</a></li>
<li><a class="reference internal" href="#users-perspective">User’s Perspective</a></li>
<li><a class="reference internal" href="#integration-with-swift">Integration with Swift</a></li>
<li><a class="reference internal" href="#pluggable-deployment-and-monitoring">Pluggable Deployment and Monitoring</a></li>
<li><a class="reference internal" href="#id1">Useful links</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Next topic</h4>
            <p class="topless"><a href="architecture.html"
                                  title="next chapter">EHO Architecture (draft)</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
          <!--
          <h3>Twitter Feed</h3>
          <div id="twitter_feed" class='twitter_feed'></div>
          -->
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-elastic-hadoop-on-openstack-documentation">
<h1>Welcome to Elastic Hadoop on OpenStack documentation!<a class="headerlink" href="#welcome-to-elastic-hadoop-on-openstack-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="useful-links">
<h2>Useful links<a class="headerlink" href="#useful-links" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">EHO Architecture (draft)</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">EHO Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="restapi/v02.html">EHO REST API v0.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="horizon/index.html">Custom Horizon pages for EHO</a></li>
<li class="toctree-l1"><a class="reference internal" href="horizon/howto.html">EHO Horizon Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">EHO quickstart guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-to-participate.html">How to Participate</a></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference external" href="https://github.com/mirantis/eho">Sources repo</a></li>
<li><a class="reference external" href="https://launchpad.net/eho">Launchpad project</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Apache Hadoop is an industry standard and widely adopted MapReduce implementation.
The aim of this project is to enable users to easily provision and manage Hadoop clusters on OpenStack.
It is worth mentioning that Amazon provides Hadoop for several years as Amazon Elastic MapReduce (EMR) service.</p>
<p>Elastic Hadoop on OpenStack (EHO) aims to provide users with simple means to provision a Hadoop cluster
by specifying several parameters like Hadoop version, cluster topology, nodes hardware details
and a few more. After user fills in all the parameters, EHO deploys the cluster in a few minutes.
Also EHO provides means to scale already provisioned cluster by adding/removing worker nodes on demand.</p>
<p>The solution will address following use cases:</p>
<ul class="simple">
<li>fast provisioning of Hadoop clusters on OpenStack for Dev and QA;</li>
<li>utilization of unused compute power from general purpose OpenStack IaaS cloud;</li>
<li>&#8220;Analytics as a Service&#8221; for ad-hoc or bursty analytic workloads (similar to AWS EMR).</li>
</ul>
<p>Key features are:</p>
<ul>
<li><p class="first">designed as an OpenStack component;</p>
</li>
<li><p class="first">managed through REST API with UI available as part of OpenStack Dashboard;</p>
</li>
<li><p class="first">support for different Hadoop distributions:</p>
<blockquote>
<div><ul class="simple">
<li>pluggable system of Hadoop installation engines;</li>
<li>integration with vendor specific management tools, such as Apache Ambari or Cloudera Management Console;</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">predefined templates of Hadoop configurations with ability to modify parameters.</p>
</li>
</ul>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<p>The EHO product communicates with the following OpenStack components:</p>
<ul class="simple">
<li>Horizon - provides GUI with ability to use all of EHO’s features;</li>
<li>Keystone - authenticates users and provides security token that is used to work with the OpenStack,
hence limiting user abilities in EHO to his OpenStack privileges;</li>
<li>Nova - is used to provision VMs for Hadoop Cluster;</li>
<li>Glance - Hadoop VM images are stored there, each image containing an installed OS and Hadoop;
the pre-installed Hadoop should give us good handicap on node start-up;</li>
<li>Swift - can be used as a storage for data that will be processed by Hadoop jobs.</li>
</ul>
<img alt="_images/openstack-interop.png" src="_images/openstack-interop.png" />
</div>
<div class="section" id="general-workflow">
<h2>General Workflow<a class="headerlink" href="#general-workflow" title="Permalink to this headline">¶</a></h2>
<p>EHO will provide two level of abstraction for API and UI based on the addressed use cases:
cluster provisioning and analytics as a service.</p>
<p>For the fast cluster provisioning generic workflow will be as following:</p>
<ul>
<li><p class="first">select Hadoop version;</p>
</li>
<li><p class="first">select base image with or without pre-installed Hadoop:</p>
<blockquote>
<div><ul class="simple">
<li>for base images without Hadoop pre-installed EHO will support pluggable deployment engines integrated with vendor tooling;</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">define cluster configuration, including size and topology of the cluster and setting the different type of Hadoop parameters (e.g. heap size):</p>
<blockquote>
<div><ul class="simple">
<li>to ease the configuration of such parameters mechanism of configurable templates will be provided;</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">provision the cluster: EHO will provision VMs, install and configure Hadoop;</p>
</li>
<li><p class="first">operation on the cluster: add/remove nodes;</p>
</li>
<li><p class="first">terminate the cluster when it’s not needed anymore.</p>
</li>
</ul>
<p>For analytic as a service generic workflow will be as following:</p>
<ul>
<li><p class="first">select one of predefined Hadoop versions;</p>
</li>
<li><p class="first">configure the job:</p>
<blockquote>
<div><ul class="simple">
<li>choose type of the job: pig, hive, jar-file, etc.;</li>
<li>provide the job script source or jar location;</li>
<li>select input and output data location (initially only Swift will be supported);</li>
<li>select location for logs;</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">set limit for the cluster size;</p>
</li>
<li><p class="first">execute the job:</p>
<blockquote>
<div><ul class="simple">
<li>all cluster provisioning and job execution will happen transparently to the user;</li>
<li>cluster will be removed automatically after job completion;</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">get the results of computations (for example, from Swift).</p>
</li>
</ul>
</div>
<div class="section" id="users-perspective">
<h2>User’s Perspective<a class="headerlink" href="#users-perspective" title="Permalink to this headline">¶</a></h2>
<p>While provisioning cluster through EHO, user operates on two types of entities: Node Templates and Clusters.</p>
<p>Node Template describes a node within cluster and it has several parameters. Node Type is one of the Node Template’s
properties that determines what Hadoop processes will be running on the node and thereby its role in the cluster.
It could be either of JobTracker, NameNode, TaskTracker or DataNode, or any logical combination of these.
Also template encapsulates hardware parameters (flavor) for the node VM and configuration for Hadoop processes running on the node.</p>
<p>Cluster entity simply represents Hadoop Cluster. It is mainly characterized by VM image with pre-installed Hadoop which
will be used for cluster deployment and cluster topology. The topology is a list of node templates and respectively
amount of nodes being deployed for each template. With respect to topology, EHO checks only that cluster has one JobTracker and one NameNode.</p>
<p>Each node template and cluster belongs to some tenant determined by user. Users have access only to objects located in
tenants they have access to. Users could edit/delete only objects they created. Naturally admin users have full access to every object.
That way EHO complies with general OpenStack access policy.</p>
<p>EHO provides several kinds of Hadoop cluster topology. JobTracker and NameNode processes could be run either on a single
VM or two separate ones. Also cluster could contain worker nodes of different types. Worker nodes could run both TaskTracker and DataNode,
or either of these processes alone. EHO allows user to create cluster with any combination of these options.</p>
</div>
<div class="section" id="integration-with-swift">
<h2>Integration with Swift<a class="headerlink" href="#integration-with-swift" title="Permalink to this headline">¶</a></h2>
<p>The Swift service is a standard object storage in OpenStack environment, analog of Amazon S3. As a rule it is deployed
on bare metal machines. It is natural to expect Hadoop on OpenStack to process data stored there. There are a couple
of enhancements on the way which can help there.</p>
<p>First, a FileSystem implementation for Swift: <a class="reference external" href="https://issues.apache.org/jira/browse/HADOOP-8545">HADOOP-8545</a>.
With that thing in place, Hadoop jobs can work with Swift
as naturally as with HDFS.</p>
<p>On the Swift side, we have the change request: <a class="reference external" href="https://review.openstack.org/#/c/21015/">Change I6b1ba25b</a> (merged).
It implements the ability to list endpoints for an object, account or container, to make it possible to integrate swift
with software that relies on data locality information to avoid network overhead.</p>
</div>
<div class="section" id="pluggable-deployment-and-monitoring">
<h2>Pluggable Deployment and Monitoring<a class="headerlink" href="#pluggable-deployment-and-monitoring" title="Permalink to this headline">¶</a></h2>
<p>In addition to the monitoring capabilities provided by vendor-specific Hadoop management tooling, EHO will provide pluggable integration with external monitoring systems such as Nagios or Zabbix.</p>
<p>Both deployment and monitoring tools will be installed on stand-alone VMs, thus allowing a single instance to manage/monitor several clusters at once.</p>
</div>
<div class="section" id="id1">
<h2>Useful links<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">EHO Architecture (draft)</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">EHO Roadmap</a><ul>
<li class="toctree-l2"><a class="reference internal" href="roadmap.html#phase-1-basic-cluster-provisioning">Phase 1 - Basic Cluster Provisioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmap.html#phase-2-cluster-operations">Phase 2 - Cluster Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmap.html#phase-3-analytics-as-a-service">Phase 3 - Analytics as a Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmap.html#further-roadmap">Further Roadmap</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="restapi/v02.html">EHO REST API v0.2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="restapi/v02.html#general-api-information">1 General API information</a></li>
<li class="toctree-l2"><a class="reference internal" href="restapi/v02.html#object-model">2 Object Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="restapi/v02.html#api-operations">3 API operations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="horizon/index.html">Custom Horizon pages for EHO</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">EHO quickstart guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#setup-prerequisites">1 Setup prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#image-setup">2 Image setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#eho-api-setup">3 EHO API SETUP</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#hadoop-cluster-startup">4 Hadoop Cluster startup</a></li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li><a class="reference external" href="https://github.com/mirantis/eho">Sources repo</a></li>
<li><a class="reference external" href="https://launchpad.net/eho">Launchpad project</a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="architecture.html" title="EHO Architecture (draft)"
             >next</a> |</li>
        <li><a href="#">Elastic Hadoop on OpenStack 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Mirantis Inc..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>